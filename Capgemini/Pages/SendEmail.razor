@page "/email";
@using Domain;
@using CapApplication.Services;
@inject IToastService ToastService
@inject IMailService _mailService;
@inject HttpClient _httpClient;


<h3>Send Email</h3>
<p>Please enter your email</p>
<div class="mb-3 mt-4 saleAssetText">
    <label for="AssetDescription" class="form-label label_font">Email Address</label><span style="color:red">*</span>
    <InputText type="text" class="form-control label_font inputTextHeight" @bind-Value="Mail.Address" />
</div>
<div class="col-lg-12 ms-3 mt-2">
    <button type="button" class="button SASaveBtn label_font" @onclick="OnSubmitBtnClick">Submit</button>
</div>

@code {
    public Mail Mail { get; set; } = new Mail();
    private async Task OnSubmitBtnClick()
    {
        await _httpClient.GetAsync("/weatherforecast/GetWeatherForecast");
    }
    // private void ValidateEmailAddress()
    // {
    //     string trimmedAddress = Mail.Address.Substring(Mail.Address.LastIndexOf("@") + 1);
    //     if(!trimmedAddress.Contains(".dso.org.sg"))
    //     {
    //         ToastService.ShowError("Email address must end with .dso.org.sg");
    //     }
    // }

}
